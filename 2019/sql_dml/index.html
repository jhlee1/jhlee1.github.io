<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Code Repository  | SQL(Data Manipulation Language)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="https://jhlee1.github.io/css/blog.css" />
    
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://jhlee1.github.io/">Home</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://jhlee1.github.io/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        SQL(Data Manipulation Language)
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                

<h2 id="dml-data-manipulation-language">DML(Data Manipulation Language)</h2>

<h3 id="1-select">1. SELECT</h3>

<ul>
<li>기본형

<ul>
<li>SELECT(DISTINCT) <strong>column</strong> (ALIAS)
FROM <strong>table</strong>;</li>
</ul></li>
<li>SELECT - 찾는 데이터(Column)을 나열</li>
<li>DISTINCT - 중복행 제거</li>
<li>ALIAS - 나타날 Column에 대한 다른 이름 부여</li>

<li><p>FROM - 선택한 Column이 있는 테이블을 명시</p></li>

<li><p>ex) 전체 데이터 검색</p>

<ul>
<li>SELECT * FROM DEPARTMANT;</li>
</ul></li>
</ul>

<pre><code>+--------+------------+----------+
| deptno | name       | location |
+--------+------------+----------+
|     10 | ACCOUNTING | NEW YORK |
|     20 | RESEARCH   | DALLAS   |
|     30 | SALES      | CHICAGO  |
|     40 | OPERATIONS | BOSTON   |
+--------+------------+----------+
4 rows in set (0.00 sec)
</code></pre>

<ul>
<li>원하는 column 내용 가져오기(어떤 Column이 있는지 desc 명령어로 확인)

<ul>
<li>SELECT deptno 부서번호, name 부서명 from department;</li>
<li>SELECT deptno as 부서번호, name as 부서명 from department;</li>
</ul></li>
</ul>

<pre><code>+----------+------------+
| 부서번호 | 부서명     |
+----------+------------+
|       10 | ACCOUNTING |
|       20 | RESEARCH   |
|       30 | SALES      |
|       40 | OPERATIONS |
+----------+------------+
4 rows in set (0.00 sec)
</code></pre>

<ul>
<li>CONCAT을 이용한 문자열 결합

<ul>
<li>SELECT CONCAT(empno, &lsquo;-&rsquo;, deptno) AS &lsquo;사번-부서번호&rsquo;  FROM employee;</li>
</ul></li>
</ul>

<pre><code>+---------------+
| 사번-부서번호 |
+---------------+
| 7782-10       |
| 7839-10       |
| 7934-10       |
| 7369-20       |
| 7566-20       |
| 7788-20       |
| 7876-20       |
| 7902-20       |
| 7499-30       |
| 7521-30       |
| 7654-30       |
| 7698-30       |
| 7844-30       |
| 7900-30       |
+---------------+
14 rows in set (0.00 sec)
</code></pre>

<ul>
<li>DISTINCT를 이용한 중복 제거

<ul>
<li>SELECT DISTINCT deptno FROM employee;</li>
</ul></li>
</ul>

<pre><code>+--------+
| deptno |
+--------+
|     10 |
|     20 |
|     30 |
+--------+
</code></pre>

<ul>
<li>ORDER BY를 이용한 정렬

<ul>
<li>SELECT empno, name FROM employee ORDER BY name; (name column 기준으로 오름차순)</li>
<li>SELECT empno, name FROM employee ORDER BY 2 DESC; (2번째 column 기준으로 내림차순)</li>
<li>ASC - 오름차순 정렬, 기본값</li>
<li>DESC - 내림차순</li>
</ul></li>
</ul>

<pre><code>+-------+--------+
| empno | name   |
+-------+--------+
|  7876 | ADAMS  |
|  7499 | ALLEN  |
|  7698 | BLAKE  |
|  7782 | CLARK  |
|  7902 | FORD   |
|  7900 | JAMES  |
|  7566 | JONES  |
|  7839 | KING   |
|  7654 | MARTIN |
|  7934 | MILLER |
|  7788 | SCOTT  |
|  7369 | SMITH  |
|  7844 | TURNER |
|  7521 | WARD   |
+-------+--------+
14 rows in set (0.00 sec)
</code></pre>

<ul>
<li><p>WHERE를 이용한 특정 Row 검색</p>

<ul>
<li>SELECT(DISTINCT) column(ALIAS)
FROM tablename
WHERE condition
ORDER BY column or expression (ASC or DESC)</li>
<li>ex) SELECT * FROM employee WHERE title = &lsquo;Staff&rsquo;</li>
<li>BETWEEN</li>
<li>SELECT * FROM employee WHERE salary BETWEEN 1000 AND 2000</li>
<li>비교 연산자(&lt;, &gt;, =)</li>
<li>SELECT name, hiredate FROM employee where hiredate &lt; &lsquo;1981-01-01&rsquo;;</li>
<li>IN 사용</li>
<li>SELECT name, deptno FROM employee WHERE deptno in (10, 30);</li>
<li>deptno가 10 또는 30인 employee의 name과 deptno 검색</li>
<li>AND</li>
<li>SELECT name, deptno FROM employee WHERE deptno in (10, 30) AND hiredate &lt; &lsquo;1981-01-01&rsquo;;</li>
<li>AND로 여러개의 조건을 합칠 수 있음</li>
<li>LIKE</li>
<li>Wild Card를 사용하여 특정 문자를 포함하는가에 대한 조건</li>
<li>%는 0에서부터 여러개의 문자열을 나타냄</li>
<li>_는 단 하나의 문자를 나타내는 Wild Card</li>
<li>ex1) SELECT name, job FROM employee WHERE name like &lsquo;A%&rsquo;;</li>
<li>name이 &lsquo;A&rsquo;로 시작하는 직원의 name과 job을 검색</li>
<li>ex2) SELECT name, job FROM employee WHERE name like &lsquo;%A&rsquo;;</li>
<li>name이 &lsquo;A&rsquo;로 끝나는 직원의 name과 job을 검색</li>
<li>ex3) SELECT name, job FROM employee WHERE name like &lsquo;%A%&rsquo;;</li>
<li>name 에 &lsquo;A&rsquo;를 포함하는 직원의 name과 job을 검색</li>
<li>ex3) SELECT name, job FROM employee WHERE name like &lsquo;_A%&lsquo;;</li>
<li>name의 character가 &lsquo;A&rsquo;인 직원의 name과 job을 검색</li>
</ul></li>

<li><p>함수 사용</p>

<ul>
<li>UPPER, UCASE</li>
<li>대문자화</li>
<li>ex) SELECT UPPER(&lsquo;SEoul&rsquo;), UCASE(&lsquo;seOUL&rsquo;);</li>
<li>FROM 다음에 table이 없는 경우 table에서 조회하는 것이 아니다.</li>
<li>LOWER, LCASE</li>
<li>소문자화</li>
<li>ex) SELECT LOWER(name) from employee;</li>
<li>SUBSTRING</li>
<li>index의 시작을 0부터가 아니라 1부터 함</li>
<li>ex) SELECT SUBSTRING(&lsquo;Happy Day&rsquo;, 3, 2)</li>
</ul></li>
</ul>

<pre><code>  +------------------------------+
  | SUBSTRING('Happy Day', 3, 2) |
  +------------------------------+
  | pp                           |
  +------------------------------+
  1 row in set (0.00 sec)
</code></pre>

<ul>
<li>LPAD, RPAD

<ul>
<li>문자열이 지정된 자리만큼 차지하도록 되도록 정해진 문자열로 (왼쪽, 오른쪽)채우기</li>
<li>ex) SELECT LPAD(&lsquo;hi&rsquo;, 5, &lsquo;?&rsquo;), LPAD(&lsquo;joe&rsquo;, 7, &lsquo;*&lsquo;);</li>
</ul></li>
</ul>

<pre><code>  +--------------------+----------------------+
  | LPAD('hi', 5, '?') | LPAD('joe
  ', 7, '*') |
  +--------------------+----------------------+
  | ???hi              | ***joe
                |
  +--------------------+----------------------+
  1 row in set (0.00 sec)
</code></pre>

<ul>
<li>TRIM, LTRIM, RTRIM

<ul>
<li>공백 없애기</li>
<li>SELECT LTRIM(&lsquo;hello&rsquo;), RTRIM(&lsquo;hello&rsquo;);</li>
</ul></li>
<li>ABS()</li>
<li>MOD(n, m) n % m</li>

<li><p>FLOOR(x)</p></li>

<li><p>CEILING(x)</p></li>

<li><p>ROUND(x)</p></li>

<li><p>POW(x,y)</p></li>

<li><p>GREATEST(x,y,&hellip;)</p></li>

<li><p>LEAST(x,y,&hellip;)</p></li>

<li><p>CURDATE(),CURRENT_DATE</p></li>

<li><p>CURTIME(), CURRENT_TIME</p></li>

<li><p>NOW(), SYSDATE() , CURRENT_TIMESTAMP</p></li>

<li><p>DATE_FORMAT(date,format) : 입력된 date를 format 형식으로 반환</p></li>

<li><p>PERIOD_DIFF(p1,p2) : YYMM이나 YYYYMM으로 표기되는 p1과 p2의 차이 개월을 반환</p></li>

<li><p>CAST를 이용한 type 변환</p>

<ul>
<li>기본형:
CAST(expression As type)
CONVERT(expression, type)
CONVERT(expr USING transcoding_name)</li>
<li>MySQL 타입:

<ul>
<li>BINARY</li>
<li>CHAR</li>
<li>DATE</li>
<li>DATETIME</li>
<li>SIGNED {INTEGER}</li>
<li>TIME</li>
<li>UNSIGNED {INTEGER}</li>
</ul></li>

<li><p>ex)
SELECT CAST(NOW() as DATE);
SELECT CAST(1-2 as unsigned;</p></li>

<li><p>COUNT(expr)</p></li>

<li><p>AVG(expr)</p></li>

<li><p>MIN(expr)</p></li>

<li><p>MAX(expr)</p></li>

<li><p>SUM(expr)</p></li>

<li><p>GROUP_COUNCAT(expr)</p></li>

<li><p>VARIANCE(expr)</p></li>

<li><p>STDDEV(expr)</p></li>

<li><p>ex1) SELECT AVG(salary), SUM(salary) FROM employee WHERE deptno = 30;</p>

<ul>
<li>deptno가 30인 직원의 salary평균과 합을 검색</li>
</ul></li>

<li><p>ex2)  SELECT AVG(salary), SUM(salary) FROM employee GROUP BY deptno;</p>

<ul>
<li>deptno별로 직원의 salary평균과 합을 검색</li>
</ul></li>
</ul></li>

<li><p>INSERT 문</p>

<ul>
<li>사용 방법

<ul>
<li>INSERT INTO <strong>tablename</strong>(<strong>field1</strong>, <strong>field2</strong>, <strong>field3</strong>, &hellip;)
VALUES (<strong>field1</strong>에 넣을 값, <strong>field2</strong>에 넣을 값,  <strong>field3</strong>에 넣을 값, &hellip;)</li>
<li>INSERT INTO <strong>tablename</strong>
VALUES (<strong>field1</strong>에 넣을 값, <strong>field2</strong>에 넣을 값,  <strong>field3</strong>에 넣을 값, &hellip;)</li>
</ul></li>
<li>Default 값을 설정한 필드의 경우 생략 가능</li>
<li>필드명을 생략한 경우 VALUES( &hellip; )에 Default 값이 설정된 필드를 제외한 모든 필드에 넣을 값을 채워줘야함. 순서는 DESC를 이용해서 참고</li>
<li>ex)
INSERT INTO ROLE(role_id, description) values (200, &lsquo;CEO&rsquo;);
INSERT INTO ROLE values (200, &lsquo;CEO&rsquo;);

<ul>
<li>ROLE이라는 table에 role_id는 200, description은 CEO로 row를 생성</li>
</ul></li>
</ul></li>

<li><p>UPDATE 문</p>

<ul>
<li>기본형

<ul>
<li>UPDATE <strong>tablename</strong>
SET <strong>field1=val1, field2=val2, &hellip;</strong>
WHERE <strong>condition</strong></li>
</ul></li>
<li>WHERE을 통해 특정 row를 변경</li>
<li>WHERE이 없는 경우 전체 ROW를 변경하게 되므로 주의</li>
<li>ex)
UPDATE role
SET description =&lsquo;CTO&rsquo;
WHERE role_id = 200;</li>
<li>role_id가 200인 role의 description을 &lsquo;CTO&rsquo;로 변경</li>
</ul></li>

<li><p>DELETE 문</p>

<ul>
<li>기본형

<ul>
<li>DELETE
FROM <strong>tablename</strong>
WHERE <strong>condition</strong></li>
</ul></li>
<li>WHERE이 없는 경우 전체 ROW를 삭제하게 되므로 주의</li>
<li>ex) DELETE FROM role WHERE role_id = 200;

<ul>
<li>role_id가 200인 row 삭제</li>
</ul></li>
</ul></li>
</ul>

            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/database">database</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/edwith">edwith</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/javascript">javascript</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/jsp">jsp</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/k-mooc">k-mooc</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/maven">maven</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/microservice">microservice</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/mysql">mysql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/need-to-read">need-to-read</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/servlet">servlet</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/sql">sql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/webprogramming">webprogramming</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://jhlee1.github.io/2019/maven/">Maven</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/maven/">Maven</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/week1_lec4/">Week1_lec4</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/week1_lec3/">Week1_lec3</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/week1_lec2/">마이크로서비스 vs. 모노리스</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
        
    </div>
</div>
    <br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="https://jhlee1.github.io/2019/maven/">Maven</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/sql_ddl/">SQL Data Definition Language</a></h1>
            <time class="has-text-grey-light is-size-7">17 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/sqlbasic/">SQL Basic</a></h1>
            <time class="has-text-grey-light is-size-7">16 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/setupmysql/">Install &amp; Set up My SQL</a></h1>
            <time class="has-text-grey-light is-size-7">16 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/database/">Database</a></h1>
            <time class="has-text-grey-light is-size-7">15 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/jspbasic/">JspBasic</a></h1>
            <time class="has-text-grey-light is-size-7">6 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptbasic/">JavascriptBasic</a></h1>
            <time class="has-text-grey-light is-size-7">31 January 2019</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="https://jhlee1.github.io/archives/2019">2019</a> (15)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/" class="mysocial"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; Code Repository 2019 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="https://jhlee1.github.io/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
