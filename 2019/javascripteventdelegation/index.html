<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Code Repository  | JavascriptEventDelegation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="https://jhlee1.github.io/css/blog.css" />
    
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://jhlee1.github.io/">Home</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://jhlee1.github.io/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        JavascriptEventDelegation
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                

<h2 id="javascript-event-delegation">Javascript Event Delegation</h2>

<h3 id="1-각각의-li-마다-event-listener를-등록">1. 각각의 li 마다 event listener를 등록</h3>

<ul>
<li>main.html</li>
</ul>

<pre><code class="language-html">&lt;html&gt;
    &lt;head&gt;
        &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/main.css&quot;&gt;
    &lt;/head&gt;    
    &lt;body&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;img src=&quot;https://images-na.,,,,,/513hgbYgL._AC_SY400_.jpg&quot; class=&quot;product-image&quot; &gt;    &lt;/li&gt;
            &lt;li&gt;
                &lt;img src=&quot;https://images-n,,,,,/41HoczB2L._AC_SY400_.jpg&quot; class=&quot;product-image&quot; &gt;    &lt;/li&gt;
            &lt;li&gt;
                &lt;img src=&quot;https://images-na.,,,,51AEisFiL._AC_SY400_.jpg&quot; class=&quot;product-image&quot; &gt;  &lt;/li&gt;
            &lt;li&gt;
                &lt;img src=&quot;https://images-na,,,,/51JVpV3ZL._AC_SY400_.jpg&quot; class=&quot;product-image&quot; &gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/body&gt;
    &lt;section class=&quot;log&quot;&gt;&lt;/section&gt;
    &lt;script src=&quot;js/main.js&quot;&gt;&lt;/script&gt;
&lt;/html&gt;
</code></pre>

<ul>
<li>main.js</li>
</ul>

<pre><code class="language-javascript">var log = document.querySelector(&quot;.log&quot;);
var lists = document.querySelector(&quot;ul &gt; li&quot;);

for (var i = 0; len = lists.length; i &lt; lists.length; i++) {
    lists[i].addEventListener(&quot;click&quot;, function(evt) {
        console.log(evt.currentTarger);
        log.innerHTML = &quot;IMG URL is&quot; + evt.currentTarget.firstElementChild.src;
    });
}
</code></pre>

<ul>
<li>브라우저는 4개의 이벤트 리스너를 기억하고 있다. <li>가 늘어날수록 브라우저는 기억해야 할 이벤트 리스너도 그만큼 많아진다. -&gt; 비효율적</li>
<li>추가적으로 <li>가 한 개 더 동적으로 추가된다면 또  addEventListener를 해줘야 한다.</li>
</ul>

<h3 id="2-ul-태그에만-이벤트를-새롭게-등록">2. ul 태그에만 이벤트를 새롭게 등록</h3>

<ul>
<li>currentTarget 대신 target을 사용</li>
</ul>

<pre><code class="language-javascript">var log = document.querySelector(&quot;.log&quot;);
var ul = document.querySelector(&quot;ul&quot;);

ul.addEventListener(&quot;click&quot; function(evt) {
    console.log(evt.target.tagName, evt.currentTarget.tagName); //target = IMG , currentTarget = UL
})
</code></pre>

<h3 id="3-event-bubbling">3. Event Bubbling</h3>

<ul>
<li><img>도 클릭 이벤트 등록하면 li 나 img 태그는 ul 태그에 속하기 때문에 클릭 시 둘 다 Event가 발생</li>
<li>이벤트 버블링 - 클릭한 지점이 하위엘리먼트라고 하여도, 그것을 감싸고 있는 상위 엘리먼트까지 올라가면서 이벤트리스너가 있는지 찾는 과정</li>
<li>만약 img, li, ul에 각각 이벤트를 등록했었다면, 3개의 이벤트 리스너가 실행됨</li>
<li>img &gt; li &gt; ul 순으로 이벤트가 발생</li>
<li>기본적으로는 Bubbling 순서로 이벤트가 발생하지만 반대 순서로 발생하도록 할 수 있다. 이러한 경우를 Event Capturing이라고 부른다.</li>
<li>Capturing 단계에서 이벤트 발생을 시키고 싶다면 addEventListener 메서드의 3번째 인자에 값을 true로 주면 됨</li>
</ul>

<pre><code class="language-javascript">var log = document.querySelector(&quot;.log&quot;);
var ul = document.querySelector(&quot;ul&quot;);
var img = document.querySelector(&quot;img&quot;);

img.addEventListener(&quot;click&quot;, function() {
    console.log(&quot;img tag clicked!!&quot;);
})

ul.addEventListener(&quot;click&quot; function(evt) {
    console.log(evt.target.tagName, evt.currentTarget.tagName); //target = IMG , currentTarget = UL
})

// console log
// img tag clicked!!
// IMG UL
</code></pre>

<h3 id="4-img-와-li-를-클릭했을-때-img-url-을-출력하기">4. <img>와 <li>를 클릭했을 때 img url 을 출력하기</h3>

<ul>
<li>parent element에다 Click Event를 위임(delegation)하기 때문에 Event Delegation이라고 부름</li>
</ul>

<pre><code class="language-javascript">var log = document.querySelector(&quot;.log&quot;);
var ul = document.querySelector(&quot;ul&quot;);

ul.addEventListner(&quot;click&quot;, function(evt) {
    var target = evt.target;
    
    if(target.tagName === &quot;IMG&quot;) {
        log.innerHTML = &quot;IMG URL is: &quot; + target.src;
    } else if (target.tagName === &quot;LI&quot;) {
        log.innerHTML = &quot;IMG URL is: &quot; + target.firstElementChild.src;
    }    
});

</code></pre>

<p>원본 강의: <a href="https://www.edwith.org/boostcourse-web">https://www.edwith.org/boostcourse-web</a></p>

            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/algorithm">algorithm</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/database">database</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/edwith">edwith</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/hackerrank">hackerrank</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/javascript">javascript</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/jdbc">jdbc</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/jsp">jsp</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/k-mooc">k-mooc</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/maven">maven</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/microservice">microservice</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/mysql">mysql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/need-to-read">need-to-read</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/quicksort">quicksort</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/restapi">restapi</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/servlet">servlet</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/spring">spring</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/sql">sql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/webprogramming">webprogramming</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://jhlee1.github.io/2019/javascripteventdelegation/">JavascriptEventDelegation</a></h1>
            <time class="has-text-grey-light is-size-7">16 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/javascriptload/">Javascript DOM ContentLoaded Event</a></h1>
            <time class="has-text-grey-light is-size-7">16 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/javascriptanimation/">JavascriptAnimation</a></h1>
            <time class="has-text-grey-light is-size-7">13 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/javascriptasync/">JavascriptAsync</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/dom_apis/">DOM APIs</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
        
    </div>
</div>
    <br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptload/">Javascript DOM ContentLoaded Event</a></h1>
            <time class="has-text-grey-light is-size-7">16 April 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptasync/">JavascriptAsync</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/dom_apis/">DOM APIs</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/springcore/">SpringCore</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptobject/">JavascriptObject</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptarray/">JavascriptArray</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/restapi/">RESTAPI</a></h1>
            <time class="has-text-grey-light is-size-7">26 February 2019</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="https://jhlee1.github.io/archives/2019">2019</a> (28)<br>
        
            <a href="https://jhlee1.github.io/archives/0001">0001</a> (1)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/" class="mysocial"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; Code Repository 2019 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="https://jhlee1.github.io/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
