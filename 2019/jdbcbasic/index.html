<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Code Repository  | JDBC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css" />
    <link rel="stylesheet" href="https://jhlee1.github.io/css/blog.css" />
    
</head>
<body>

    
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://jhlee1.github.io/">Home</a>
        </div>
    </nav>
    

    
    <section class="hero is-info is-medium">
        <div class="hero-body" style="background-image: url(https://jhlee1.github.io/img/bg-blog.jpg);">
            <div class="container has-text-centered">
                <br>
                <h1 class="title is-size-1">
                    
                        JDBC
                    
                </h1>
                
            </div>
        </div>
    </section>


<div class="container">
    <div class="section">
    

<div class="columns">
    <div class="column is-9">
        <div class="tile is-child box">
            <div class="content">
                

<h2 id="jdbc">JDBC</h2>

<h3 id="1-개념">1. 개념</h3>

<ul>
<li>Java를 이용한 Database 접속과 SQL 실행, 실행 결과로 얻어진 Data의 핸들링을 제공하는 방법과 절차에 관한 규약</li>
<li>Java 프로그램 내에서 SQL문을 실행하기 위한 Java API</li>
<li>SQL과 Programming 언어의 통합 접근 중 한 형태</li>
<li>Java는 표준 인터페이스인 JDBC API를 제공</li>
<li>Database vendor 또는 기타 Third Party에서는 JDBC 인터페이스를 구현한 Driver를 제공</li>
</ul>

<h3 id="2-jdbc-드라이버-설치">2. JDBC 드라이버 설치</h3>

<ul>
<li>Maven에 Dependency 추가</li>
</ul>

<pre><code>&lt;depencency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;5.1.45&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<h3 id="3-jdbc-사용법">3. JDBC 사용법</h3>

<ol>
<li><p>Import</p>

<ul>
<li>import java.sql.*;</li>
</ul></li>

<li><p>Driver를 로드</p>

<ul>
<li>Class.forName(&ldquo;com.mysql.jdbc.Driver&rdquo;); // 어떤 vendor를 이용하느냐에 따라 String 값이 달라짐</li>
</ul></li>

<li><p>Connection 객체 생성</p>

<ul>
<li><p>String dburl = &ldquo;jdbc:mysql://localhost/dbName&rdquo;;</p></li>

<li><p>Connection conn = DriverManager.getConnection(dburl, ID, PWD);</p></li>

<li><p>ex)</p></li>
</ul>

<pre><code> public static Connection getConnection() throws Exception {
    String url = &quot;jdbc:oracle:thin:@117.16.46.111:1521:xe&quot;;
    String user = &quot;smu&quot;;
    String password = &quot;smu&quot;;
    Connection conn = null;

    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);
    conn = DriverManager.getConnection(url, user, password);

    return conn;
 }
</code></pre></li>

<li><p>Statement 객체를 생성 및 실행</p>

<ul>
<li>Statement stmt = con.createStatement();</li>
<li>ResultSet rs = stmt.executeQuery(&ldquo;select no from user&rdquo;);</li>
<li>smtm.execute(&ldquo;query&rdquo;); // any SQL</li>
<li>smtm.execute(&ldquo;query&rdquo;);  // SELECT</li>
<li>smtm.executeUpdate(&ldquo;query&rdquo;);  // INSERT, UPDATE, DELETE</li>
</ul></li>

<li><p>SQL의 결과가 있다면 ResultSet 객체를 생성</p>

<ul>
<li>ResultSet rs = stmt.executeQuery(&ldquo;select no from user&rdquo;);
while (rs.next()) {
System.out.println(rs.getInt(&ldquo;no&rdquo;));</li>
</ul>

<p>}</p></li>

<li><p>모든 객체를 닫는다.</p>

<ul>
<li>rs.close();</li>
<li>stmt.close();</li>
<li>conn.close();</li>
</ul></li>
</ol>

<h3 id="4-jdbc-클래스의-생성관계">4. JDBC 클래스의 생성관계</h3>

<ul>
<li>DriverManager를 이용해서 Connection 인스턴스를 얻는다</li>
<li>Connection을 통해서 Statement를 얻는다</li>
<li>Statement를 이용해 ResultSet을 얻는다</li>
<li>DriverManager -&gt; Connection -&gt; Statement -&gt; ResultSet</li>
<li>닫을 땐 열은 순서의 반대로 닫는다.</li>
</ul>

<h3 id="5-example">5. Example</h3>

<pre><code>public List&lt;GuestBookVO&gt; getGuestBookList(){
        List&lt;GuestBookVO&gt; list = new ArrayList&lt;&gt;();
        GuestBookVO vo = null;
        Connection conn = null;
        PreparedStatement ps = null;
        ResultSet rs = null;
        try{
            conn = DBUtil.getConnection();
            String sql = &quot;select * from guestbook&quot;;
            ps = conn.prepareStatement(sql);
            rs = ps.executeQuery();
            while(rs.next()){
                vo = new GuestBookVO();
                vo.setNo(rs.getInt(1));
                vo.setId(rs.getString(2));
                vo.setTitle(rs.getString(3));
                vo.setConetnt(rs.getString(4));
                vo.setRegDate(rs.getString(5));
                list.add(vo);
            }
        }catch(Exception e){
            e.printStackTrace();
        }finally {
            DBUtil.close(conn, ps, rs);
        }       
        return list;        
    }
</code></pre>

<pre><code>public int addGuestBook(GuestBookVO vo){
        int result = 0;
        Connection conn = null;
        PreparedStatement ps = null;
        try{
            conn = DBUtil.getConnection();
            String sql = &quot;insert into guestbook values(&quot;
                    + &quot;guestbook_seq.nextval,?,?,?,sysdate)&quot;;
            ps = conn.prepareStatement(sql);
            ps.setString(1, vo.getId());
            ps.setString(2, vo.getTitle());
            ps.setString(3, vo.getConetnt());
            result = ps.executeUpdate();
        }catch(Exception e){
            e.printStackTrace();
        }finally {
            DBUtil.close(conn, ps);
        }

        return result;
    }
</code></pre>

<pre><code>public static void close(Connection conn, PreparedStatement ps){
        if (ps != null) {
            try {
                ps.close();
            } catch (SQLException e) {e.printStackTrace(); }
        }
        if (conn != null) {
            try {
                conn.close();
            } catch (SQLException e) {e.printStackTrace();}
        }
    }
</code></pre>

<p>원본 강의: <a href="https://www.edwith.org/boostcourse-web">https://www.edwith.org/boostcourse-web</a></p>

            </div>
        </div>
    </div>
    <div class="column is-3">
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Tags</h1>
        <div class="tags">
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/algorithm">algorithm</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/database">database</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/edwith">edwith</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/hackerrank">hackerrank</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/javascript">javascript</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/jdbc">jdbc</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/jsp">jsp</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/k-mooc">k-mooc</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/maven">maven</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/microservice">microservice</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/mysql">mysql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/need-to-read">need-to-read</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/quicksort">quicksort</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/restapi">restapi</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/servlet">servlet</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/spring">spring</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/sql">sql</a></span>
        
            <span class="tag"><a href="https://jhlee1.github.io/tags/webprogramming">webprogramming</a></span>
        
        </div>          
    </div>
</div><br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Recent posts</h1>
        
            <h1><a href="https://jhlee1.github.io/2019/javascriptasync/">JavascriptAsync</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/dom_apis/">DOM APIs</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/restcontroller/">RestController</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/layeredarchitecture/">LayeredArchitecture</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
        
            <h1><a href="https://jhlee1.github.io/2019/springmvc/">SpringMVC</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
        
    </div>
</div>
    <br>
                
  



<div class="card">
    <div class="card-content">
        <h1 class="title is-5">Related posts</h1>
      
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptasync/">JavascriptAsync</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/dom_apis/">DOM APIs</a></h1>
            <time class="has-text-grey-light is-size-7">12 April 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/springcore/">SpringCore</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptobject/">JavascriptObject</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/javascriptarray/">JavascriptArray</a></h1>
            <time class="has-text-grey-light is-size-7">27 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/restapi/">RESTAPI</a></h1>
            <time class="has-text-grey-light is-size-7">26 February 2019</time>
      
            <h1><a href="https://jhlee1.github.io/2019/maven/">Maven</a></h1>
            <time class="has-text-grey-light is-size-7">24 February 2019</time>
      
    </div>
</div>

    
<br>
        <div class="card">
    <div class="card-content">
        <h1 class="title is-5">Archives</h1>
        
            <a href="https://jhlee1.github.io/archives/2019">2019</a> (25)<br>
        
            <a href="https://jhlee1.github.io/archives/0001">0001</a> (1)<br>
        
    </div>
</div>

    </div>
</div>


    </div>
</div>

<footer class="footer has-background-grey-darker has-text-white">
    <div class="content has-text-centered">
        <p>
            <span class="icon is-large"><a href="https://twitter.com/" class="mysocial"><i class="fab fa-twitter fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://www.youtube.com/" class="mysocial"><i class="fab fa-youtube fa-3x"></i></a></span>&nbsp;&nbsp;
            <span class="icon is-large"><a href="https://github.com/" class="mysocial"><i class="fab fa-github fa-3x"></i></a></span>&nbsp;&nbsp;
            <br><br>
            Copyright &copy; Code Repository 2019 - Theme by <a href="https://jeffprod.com" class="mysocial">JeffProd.com</a>
            - <a class="mysocial" href="https://jhlee1.github.io/about">About</a>
        </p>
    </div>
</footer>

<script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js"></script>
</body>
</html>
